!function(r){"use strict";r.module("ng-breadcrumbs",[]).factory("breadcrumbs",["$rootScope","$location","$route",function(e,n,t){var a={breadcrumbs:[],changeHandler:null,get:function(r){if(this.options=r||this.options,this.options)for(var e in this.options)if(this.options.hasOwnProperty(e))for(var n in this.breadcrumbs)if(this.breadcrumbs.hasOwnProperty(n)){var t=this.breadcrumbs[n];t.label===e&&(t.label=this.options[e])}return this.breadcrumbs},generateBreadcrumbs:function(){var e,n,a,i=t.routes,o=this,s={},c="",u="";t&&t.current&&t.current.originalPath&&(this.breadcrumbs=[],e=t.current.params,n=t.current.originalPath.trim().split("/"),""===n[1]&&n.splice(1,1),r.forEach(n,function(r,n){a=":"===r[0]&&"undefined"!=typeof e[r.slice(1,r.length)]?e[r.slice(1,r.length)]:!1,s[n]={path:a||r,originalPath:r},c=Object.keys(s).map(function(r){return s[r].path}).join("/")||"/",u=Object.keys(s).map(function(r){return s[r].originalPath}).join("/")||"/",i[u]&&(i[u].label||a)&&!i[u].excludeBreadcrumb&&o.breadcrumbs.push({path:c,originalPath:u,label:i[u].label||a,param:a})}),null!==o.changeHandler&&o.changeHandler())},setChangeHandler:function(r){this.changeHandler=r}};return e.$on("$routeChangeSuccess",function(){a.generateBreadcrumbs()}),e.$watch(function(){return a.options},function(){a.generateBreadcrumbs()}),a.generateBreadcrumbs(),a}])}(angular);